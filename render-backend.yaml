services:
  - type: web
    name: capstone-backend
    repo: https://github.com/Jemershon/Capstone-2
    branch: main
    rootDirectory: backend
  buildCommand: bash -lc 'if [ -f ./server.js ]; then echo "server in current dir"; elif [ -f backend/server.js ]; then cd backend; fi; npm ci --no-audit --no-fund'
  startCommand: bash -lc 'if [ -f ./server.js ]; then echo "server in current dir"; elif [ -f backend/server.js ]; then cd backend; fi; npm start'
    env:
      # Do NOT store secret values here. Set them in the Render dashboard or via the Render API.
      # Example env keys your service expects (set values in Render UI):
      # MONGODB_URI: ''
      # JWT_SECRET: ''
      # GOOGLE_CLIENT_ID: ''
      # CLOUDINARY_URL: ''
      # EMAIL_USER: ''
      # EMAIL_PASS: ''
      # CORS_ORIGIN: ''
      NODE_ENV: production
    healthCheckPath: /health
    plan: starter
